<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>æ°´ç­ä¸»ç†äººå¼•å¯¼ä¸­...</title>
    <style>
        :root { --primary-pink: #ff85a2; }
        body { 
            background: #fff9fa; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            font-family: 'PingFang SC', sans-serif;
        }
        /* ä¸€ä¸ªç®€å•çš„åŠ è½½åŠ¨ç”»ï¼Œä¿æŒè§†è§‰ä¸€è‡´æ€§ */
        .loading-container { text-align: center; }
        .otter-icon { font-size: 50px; animation: bounce 1s infinite; }
        .loading-text { color: var(--primary-pink); font-size: 14px; margin-top: 10px; font-weight: bold; }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>

<div class="loading-container">
    <div class="otter-icon">ğŸ¦¦</div>
    <div class="loading-text">æ­£åœ¨åŒæ­¥èƒ½é‡åŸºçŸ³...</div>
</div>

<script>
    // è·¯ç”±å®ˆå«ï¼šæ£€æŸ¥æ˜¯å¦æ¿€æ´»
(function securityCheck() {
    const isActivated = localStorage.getItem('isActivated');
    if (isActivated !== 'true') {
        // å¦‚æœæ²¡æ¿€æ´»ï¼Œå¼ºåˆ¶é‡å®šå‘å›å¤§é—¨ï¼Œä¸”ä¸è®©ç”¨æˆ·é€šè¿‡â€œè¿”å›â€è·³è¿‡
        window.location.replace('gate.html');
    }
})();

    /**
     * æ ¸å¿ƒè·¯ç”±é€»è¾‘ï¼š
     * 1. æ£€æŸ¥ localStorage æ˜¯å¦æœ‰å®Œæˆåˆå§‹åŒ–è®¾ç½®çš„æ ‡è®°
     * 2. ä½¿ç”¨ window.location.replace é˜²æ­¢ç”¨æˆ·ç‚¹å‡»â€œè¿”å›â€æ—¶é™·å…¥æ­»å¾ªç¯
     */
    (function route() {
        // å»¶è¿Ÿ 300ms ä¿è¯è§†è§‰ä¸Šæœ‰ä¸ªâ€œå¯åŠ¨â€çš„æ„Ÿè§‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œ
        setTimeout(() => {
            const hasSetup = localStorage.getItem('hasSetup');

            if (hasSetup === 'true') {
                // å·²å®Œæˆè®¾ç½®ï¼Œç›´æ¥è¿›å…¥ä¸»æ“ä½œé¡µ
                window.location.replace('main.html');
            } else {
                // æ–°ç”¨æˆ·æˆ–æ¸…é™¤äº†ç¼“å­˜ï¼Œè¿›å…¥è®¾ç½®é¡µ
                window.location.replace('setup.html');
            }
        }, 300);
    })();
</script>

</body>
</html>
